<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RT Anki</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex justify-center items-start min-h-screen pt-5">
    <div class="container bg-white p-5 rounded-lg shadow-lg w-full max-w-lg text-center">
        <h1 class="text-3xl font-bold mb-6 text-gray-700">RT Anki</h1>
        
        <div id="category-selection" class="mb-6">
            <h2 class="text-xl font-semibold mb-3 text-gray-600">Select Categories:</h2>
            <div id="categories-list" class="flex flex-wrap justify-center gap-2">
                <!-- Categories will be loaded here by JavaScript as buttons -->
                <p class="text-gray-500">Loading categories...</p>
            </div>
        </div>
        
        <button id="start-button" class="bg-red-500 hover:bg-red-600 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors duration-150 ease-in-out disabled:bg-gray-300">Start Study Session</button>
        
        <div id="problem-area" style="display: none;" class="mt-5 p-4 border border-gray-200 rounded-lg">
            <h2 id="question-text" class="text-xl text-gray-700 mb-3"></h2>
            <audio id="question-audio" controls class="w-full mb-3" style="display: none;"></audio>
            <button id="record-answer-button" data-target-input="user-answer-text" class="relative overflow-hidden bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-150 ease-in-out">
                <span class="button-text">Hold to Record Answer</span>
                <div class="record-progress-slider absolute top-0 left-0 h-full w-0 bg-black bg-opacity-20 transition-all duration-100 ease-linear"></div>
            </button>
        </div>

        <div id="feedback-area" style="display: none;" class="mt-5 p-4 border border-gray-200 rounded-lg">
            <p id="feedback-text" class="text-lg mb-2"></p>
            <p id="correct-answer-text" class="text-md text-gray-700 mb-1"></p>
            <p id="explanation-text" class="text-md text-gray-600 mb-3"></p>
            <button id="follow-up-button" style="display: none;" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out mb-2">Ask Follow-up</button>
            <div id="follow-up-input-area" style="display: none;" class="flex flex-col sm:flex-row items-center gap-2">
                <input type="text" id="follow-up-question-text" placeholder="Type or speak your follow-up" class="flex-grow p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500">
                <button id="record-follow-up-button" data-target-input="follow-up-question-text" class="relative overflow-hidden bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-lg transition-all duration-150 ease-in-out w-full sm:w-auto">
                    <span class="button-text">Hold to Record</span>
                    <div class="record-progress-slider absolute top-0 left-0 h-full w-0 bg-black bg-opacity-20 transition-all duration-100 ease-linear"></div>
                </button>
                <button id="submit-follow-up-button" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out w-full sm:w-auto">Send Follow-up</button>
            </div>
        </div>
        
        <button id="next-question-button" style="display: none;" class="mt-5 bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-6 rounded-lg text-lg transition-colors duration-150 ease-in-out">Next Question</button>

    </div>
    <!-- VAD Library script tag removed -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html> 